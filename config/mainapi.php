<?php
return [

    /*
    |--------------------------------------------------------------------------
    | Main API Base URL
    |--------------------------------------------------------------------------
    */
    'base_url' => env('MAIN_API_URL', ''),

    /*
    |--------------------------------------------------------------------------
    | Application Identity
    |--------------------------------------------------------------------------
    */
    'app_code' => env('MAIN_API_CODE', ''),

    /*
    |--------------------------------------------------------------------------
    | Secret for HMAC
    |--------------------------------------------------------------------------
    */
    'secret'   => env('MAIN_API_SECRET', ''),

    /*
    |--------------------------------------------------------------------------
    | Additional API Key header if needed by server
    |--------------------------------------------------------------------------
    */
    'apikey'   => env('MAIN_API_KEY', ''),

    /*
    |--------------------------------------------------------------------------
    | Default HTTP options
    |--------------------------------------------------------------------------
    */
    'http' => [
        'verify' => env('MAIN_API_VERIFY', true),   // set false in local if necessary
        'timeout' => 10,
    ],

    /*
    |--------------------------------------------------------------------------
    | Retry config
    |--------------------------------------------------------------------------
    | attempts: how many attempts (including first)
    | sleep: milliseconds between attempts
    |--------------------------------------------------------------------------
    */
    'retry' => [
        'attempts' => 3,
        'sleep' => 500,
    ],

    /*
    |--------------------------------------------------------------------------
    | Cache config for GET requests
    |--------------------------------------------------------------------------
    | ttl = seconds (0 = disabled)
    |--------------------------------------------------------------------------
    */
    'cache' => [
        'enabled' => true,
        'ttl' => 60, // seconds
    ],

    /*
    |--------------------------------------------------------------------------
    | Rate limiting (per endpoint)
    |--------------------------------------------------------------------------
    | max_attempts per decay_seconds window
    |--------------------------------------------------------------------------
    */
    'rate_limit' => [
        'enabled' => true,
        'max_attempts' => 60, // e.g. 60 calls
        'decay_seconds' => 60, // per minute
    ],
];
